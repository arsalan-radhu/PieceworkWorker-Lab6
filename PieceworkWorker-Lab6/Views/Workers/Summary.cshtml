@model IEnumerable<PieceworkWorker_Lab6.Models.PieceWorkWorkerModel>

@{
    ViewData["Title"] = "Worker Summary";
    int totalWorkers = 0;
    int totalMessages = 0;
    decimal totalPay = 0M;
    decimal averagePay = 0M;
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h1>Worker Summary</h1>

@foreach (var item in Model)
{
    bool isSeniorWorker = item.isSenior;
    totalWorkers++;
    totalMessages += item.Messages;
    totalPay += item.FindPay(isSeniorWorker);

}

@if (totalWorkers > 0)
{
    averagePay = totalPay / totalWorkers;
    <hr />
    <div class="row">
        <div class="col-md-6">
            <p>
                Total Workers: @totalWorkers
            </p>
            <p>
                Total Messages: @totalMessages
            </p>
            <p>
                Total Pay: @totalPay.ToString("C")
            </p>
            <p>
                Average Pay: @averagePay.ToString("C")
            </p>
        </div>
    </div>
}